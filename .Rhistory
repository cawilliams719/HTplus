}
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "C:/Users/Caroline/Documents/Projects/HTplus/data/nlcd"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(urls, tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip", "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "C:/Users/Caroline/Documents/Projects/HTplus/data/nlcd"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(unlist(urls), tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "C:/Users/Caroline/Documents/Projects/HTplus/data/nlcd"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(unlist(urls), tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(utils)
library(raster)
test_url <- "ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip"
my_dir <- "C:/Users/Caroline/Documents/Projects/HTplus/tests"
tmp <- tempfile(tmpdir = my_dir, fileext = ".zip")
download.file(test_url, tmp)
unzip(tmp,exdir = my_dir)
unlink(tmp)
fp <- list.files(path = my_dir, full.names = TRUE, pattern = "nlcd_sample_2005")
fp <- gsub("/", "\\\\", fp)
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "D:/data"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(unlist(urls), tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
#test
stations <- list("02521099999", "02571099999")
lapply(stations, lcd)
#test
stations <- list("02521099999", "02571099999")
lapply(stations, lcd(stations))
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
lapply(stations, lcd(stations))
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations)
lcd(i, year = 2005)
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
t <- for (i in stations)
lcd(i, year = 2005)
t
library(rnoaa)
station_test <- lcd(station = "02521099999", year = 2005)
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
t <- for (i in stations)
lcd(station = i, year = 2005)
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations)
lcd(station = i, year = 2005)
print(i)
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations)
t <- lcd(station = i, year = 2005)
t
?export
?tibble
library(rnoaa)
station_test <- lcd(2005)
library(rnoaa)
station_test <- lcd(year = 2005)
library(rnoaa)
station_test <- lcd(station = "", year = 2005)
?return
library(rnoaa)
station_test <- lcd(station = "02521099999", year = 2005)
lcd_cache
browseVignettes("geospaar")
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
select_test <- station_test %>% select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
select_test <- station_test %>% select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
station_test
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
select_test <- station_test %>% select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
select_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
select_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
select_test <- station_test %>% dplyr::select(date)
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
select_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
select_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
library(rnoaa)
library(dplyr)
station_test <- lcd(station = "02521099999", year = 2005)
station_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
station_test$date
library(dplyr)
station_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
rlang::last_error()
library(rnoaa)
library(dplyr)
library(tidyr)
station_test <- lcd(station = "02521099999", year = 2005)
station_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
station_test <- station_test %>% dplyr::select(date, latitude, longitude, elevation, name, monthlymaximumtemperature, monthlymeantemperature, monthlyminimumtemperature)
class(station_test$RawData[[1]])
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
tibble(station_test)
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
station_test %>% mutate(date, as_tibble())
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations) {
lcd(station = i, year = 2005)
return()
}
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations) {
lcd(station = i, year = 2005)
return(n)
}
n
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations) {
lcd(station = i, year = 2005)
return(i)
}
#test
library(rnoaa)
stations <- list("02521099999", "02571099999")
for (i in stations) {
t <- lcd(station = i, year = 2005)
}
?lcd
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
station_test %>%
mutate(RawData = map(RawData, ~
.x %>%
as_tibble %>%
mutate(across(everything(), as.character))))
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
station_test %>%
mutate(RawData = map(RawData, ~
.x %>%
as_tibble %>%
mutate(across(everything(), as.character))))
?map
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
library(purrr)
station_test <- lcd(station = "02521099999", year = 2005)
station_test %>%
mutate(RawData = map(RawData, ~
.x %>%
as_tibble %>%
mutate(across(everything(), as.character))))
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "D:/data"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(urls, tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
?charToRaw
charToRaw(urls)
charToRaw("urls")
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "D:/data"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(charToRaw(urls), tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(utils)
library(raster)
urls <- ("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "D:/data"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(urls, tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "D:/data"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(i, tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(utils)
library(raster)
urls <- list("ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2005_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2006_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2007_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2008_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2009_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2010_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2011_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2012_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2013_vote.zip",
"ftp://islay.ceoas.oregonstate.edu/cms/v1/landcover/vote/landcover_2014_vote.zip")
nlcd_dir <- "D:/data"
for (i in urls) {
tmp <- tempfile(tmpdir = nlcd_dir, fileext = ".zip")
download.file(i, tmp)
unzip(tmp,exdir = nlcd_dir)
unlink(tmp)
fp <- list.files(path = nlcd_dir, full.names = TRUE, pattern = "nlcd_vote")
fp <- gsub("/", "\\\\", fp)
}
library(rnoaa)
ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
?ncdc_datasets
ncdc_stations(datasetid = "GSOM", stationid = "WBAN:54779")
ncdc_stations(datasetid='GHCND', locationid='FIPS:12017', stationid='GHCND:USC00084289')
options(noaakey = "JZlxzQnigvnaMDltqPKlzQGATTjjMDgD"
)
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
ncdc_stations(datasetid = "GSOM", stationid = "WBAN:54779")
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
test <- ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
test
test <- ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
ncdc(datasetid = "LCD", datatypeid = "csv", startdate = "2005-01-01", enddate = "2014-12-31")
ncdc(datasetid = "LCD", datatypeid = "tibble", startdate = "2005-01-01", enddate = "2014-12-31")
ncdc_datacats(datasetid = "LCD", stationid = "WBAN:54779", startdate = "2005-01-01", enddate = "2014-12-31")
test <- ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
ncdc_datacats(datasetid = "LCD", stationid = "WBAN:54779", startdate = "2005-01-01", enddate = "2014-12-31")
ncdc_datacats(datasetid = "LCD", stationid = "WBAN:54779")
ncdc_datacats(stationid = "WBAN:54779")
ncdc_datasets()
ncdc_datacats()
lcd_cache()
lcd()
browseVignettes("geospaar")
st <- as_tibble(station_test)
st
st %>% select(name)
test <- ncdc_stations(datasetid = "LCD", stationid = "WBAN:54779")
test
station_test <- lcd(stationnid = "WBAN:54779", year = 2005)
st <- as_tibble(station_test)
station_test <- lcd(stationnid = "02521099999", year = 2005)
st <- as_tibble(station_test)
lcd(stationid = "WBAN:54779")
?lc
?lcd
?lcd_cache
station_test <- lcd_cache(station = "02521099999", year = 2005)
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd_cache(station = "02521099999", year = 2005)
st <- as_tibble(station_test)
station_test <- lcd(station = "02521099999", year = 2005)
st <- as_tibble(station_test)
st
station_test <- lcd(station = "54779099999", year = 2005)
station_test <- lcd(station = "5477999999", year = 2005)
?lcd
?ncdc
ncdc(locationid = "portsmouth, nh")
ncdc(locationid = "portsmouth, nh", startdate = "2005-01-01")
ncdc(locationid = "portsmouth, nh", "startdate = "2005-01-01", enddate = "2005-02-01"")
ncdc(locationid = "portsmouth, nh", startdate = "2005-01-01", enddate = "2005-02-01)
")"
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "02521099999", year = 2005)
st <- as_tibble(station_test)
lcd_stat <- list("WBAN:54779", "WBAN:14737", "WBAN:14751", "WBAN:54782",
"WBAN:54737", "WBAN:14711", "WBAN:64756", "WBAN:94723",
"WBAN:14757", "WBAN:14712", "WBAN:14770", "WBAN:54785",
"WBAN:54793", "WBAN:14792", "WBAN:14894", "WBAN:14777",
"WBAN:14778", "WBAN:54704", "WBAN:94746", "WBAN:14763",
"WBAN:14702", "WBAN:04780", "WBAN:94704", "WBAN:54778",
"WBAN:54768", "WBAN:94060", "WBAN:14735", "WBAN:14771",
"WBAN:14768", "WBAN:14750", "WBAN:54740", "WBAN:54773",
"WBAN:54772", "WBAN:94847", "WBAN:94815", "WBAN:14833",
"WBAN:14836", "WBAN:14826", "WBAN:14837", "WBAN:94994",
"WBAN:54903", "WBAN:94814", "WBAN:14898", "WBAN:14897",
"WBAN:14841", "WBAN:94893", "WBAN:94973", "WBAN:13884",
"WBAN:93845", "WBAN:63829", "WBAN:63828", "WBAN:13869",
"WBAN:13870", "WBAN:03822", "WBAN:93842", "WBAN:03813",
"WBAN:53874", "WBAN:53838", "WBAN:93801", "WBAN:93846",
"WBAN:53850", "WBAN:13886", "WBAN:03870", "WBAN:53870",
"WBAN:13881")
ncdc(locationid = "portsmouth, nh", startdate = "2005-01-01", enddate = "2005-02-01")
ncdc(datasetid = "LCD", locationid = "portsmouth, nh", startdate = "2005-01-01", enddate = "2005-02-01")
lcd_get()
lcd_key <- function(station, year) {
file.path(lcd_base(), year, paste0(station, ".csv"))
}
lcd_key(station = "02521099999", year = 2005)
lcd_base <- function() {
"https://www.ncei.noaa.gov/data/local-climatological-data/access"
}
lcd_key <- function(station, year) {
file.path(lcd_base(), year, paste0(station, ".csv"))
}
lcd_key(station = "02521099999", year = 2005)
lcd_key(station = "WBAN:13886", year = 2005)
lcd_name <- function(name, year, ...) {
assert(name, c("character", "numeric", "integer"))
assert(year, c("character", "numeric", "integer"))
assert_range(year, 1901:format(Sys.Date(), "%Y"))
path <- lcd_get(name = name, year = year, ...)
tmp <- safe_read_csv(path)
names(tmp) <- tolower(names(tmp))
df <- tibble::as_tibble(tmp)
structure(df, class = c(class(df), "lcd"))
}
lcd_name("portsmouth, NH", year = 2005)
?assert
lcd_name <- function(name, year, ...) {
assert(name, c("character", "numeric", "integer"))
assert(year, c("character", "numeric", "integer"))
assert_range(year, 1901:format(Sys.Date(), "%Y"))
path <- lcd_get(name = name, year = year, ...)
tmp <- safe_read_csv(path)
names(tmp) <- tolower(names(tmp))
df <- tibble::as_tibble(tmp)
structure(df, class = c(class(df), "lcd"))
}
lcd_name("Portsmouth, NH", year = 2005)
remotes::install_github("ropensci/rnoaa")
station_test <- lcd(station = "74410414763", year = 2005)
st <- as_tibble(station_test)
station_test <- lcd(station = "74410099999", year = 2005)
st <- as_tibble(station_test)
library(rnoaa)
library(dplyr)
library(tidyr)
library(vctrs)
station_test <- lcd(station = "72510094746", year = 2005)
st <- as_tibble(station_test)
st
lcd(station = "", year = 2005)
homr()
station_test <- lcd(station = "72510094746", year = 2005)
st <- as_tibble(station_test)
st
station_test <- lcd(station = "99999954779", year = 2005)
st <- as_tibble(station_test)
st
station_test <- lcd(station = "72517014737", year = 2005)
st <- as_tibble(station_test)
